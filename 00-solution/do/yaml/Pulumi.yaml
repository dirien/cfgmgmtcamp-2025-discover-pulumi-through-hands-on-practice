name: 00-solution-do-yaml
description: A minimal DigitalOcean Pulumi YAML program
runtime: yaml

variables:
  clusterName: "do-cluster"
  clusterRegion: "fra1"
  nodePoolName: "default"
  nodeCount: 1
  version: 1.31.1-do.5

resources:
  doCluster:
    type: digitalocean:KubernetesCluster
    properties:
      name: "${clusterName}"
      region: "${clusterRegion}"
      version: "${version}"
      destroyAllAssociatedResources: true
      nodePool:
        name: "${nodePoolName}"
        size: "s-2vcpu-2gb"
        nodeCount: "${nodeCount}"

outputs:
  name: "${doCluster.name}"
  kubeconfig: "${doCluster.kubeConfigs[0].rawConfig}"
